{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\SENAanalisisydsoftware\\\\FASE 7 2023\\\\React\\\\luzdelicias_app\\\\src\\\\LogIn.jsx\",\n  _s = $RefreshSig$();\nimport './styles/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LogIn = () => {\n  _s();\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const login = async () => {\n    const model = {\n      userName: userName,\n      password: password\n    };\n    await api.login(model).then(res => {\n      if (res.status === 200) {\n        var _data$person, _data$person2;\n        const data = res.data.data;\n        const userAuthenticated = {\n          id: data.id,\n          userName: data.userName,\n          role: {\n            id: data.role._id,\n            roleName: data.role.roleName\n          },\n          person: {\n            id: (_data$person = data.person) === null || _data$person === void 0 ? void 0 : _data$person.id,\n            fullName: (_data$person2 = data.person) === null || _data$person2 === void 0 ? void 0 : _data$person2.fullName\n          },\n          access_token: data.token.access_token,\n          expires_in: data.token.expires_in\n        };\n        ls.setLocalStorage(\"tesys\", userAuthenticated);\n        window.location.href = \"/userhome\";\n      }\n    }).catch(err => {\n      console.log(err); //aqui va la respuesta\n      Swal.fire({\n        title: \"Usuario o contraseña incorrecta\",\n        icon: \"warning\",\n        timer: 2000,\n        timerProgressBar: true\n      });\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    login();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"LogIn p-3 mt-5 pb-md-4 mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cardLogIn\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"avatar\",\n          src: logo,\n          alt: \"\",\n          width: \"150\",\n          height: \"80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-logIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-title-login text-light\",\n          children: \"Bienvenido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-text-login text-light\",\n          children: \"Iniciar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body mt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"row g-3 needs-validation\",\n            novalidate: true,\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 text-black\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"validationDefaultUsername\",\n                class: \"form-label text-light\",\n                children: \"Usuario\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                class: \"form-control\",\n                id: \"validationDefaultUsername\",\n                \"aria-describedby\": \"inputGroupPrepend2\",\n                value: userName,\n                onChange: e => setUserName(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 text-black\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"validationDefaultUsername\",\n                class: \"form-label text-light\",\n                children: \"Contrase\\xF1a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: \"form-control\",\n                id: \"validationDefaultPassword\",\n                \"aria-describedby\": \"inputGroupPrepend2\",\n                value: password,\n                onChange: e => setPassword(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"boton-login d-grid gap-2 d-md-flex justify-content-md-end\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                id: \"login\",\n                className: \"btn btn-primary w-50 border-primary text-light fw-light\",\n                onClick: () => login(),\n                children: \"Entrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 7\n  }, this);\n};\n_s(LogIn, \"QMPl3tchD3a+CakFWkbNfxVuEUY=\");\n_c = LogIn;\nexport default LogIn;\nvar _c;\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"names":["jsxDEV","_jsxDEV","LogIn","_s","userName","setUserName","useState","password","setPassword","login","model","api","then","res","status","_data$person","_data$person2","data","userAuthenticated","id","role","_id","roleName","person","fullName","access_token","token","expires_in","ls","setLocalStorage","window","location","href","catch","err","console","log","Swal","fire","title","icon","timer","timerProgressBar","handleSubmit","e","preventDefault","className","children","src","logo","alt","width","height","fileName","_jsxFileName","lineNumber","columnNumber","novalidate","onSubmit","for","class","type","value","onChange","target","required","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Usuario/Documents/SENAanalisisydsoftware/FASE 7 2023/React/luzdelicias_app/src/LogIn.jsx"],"sourcesContent":["import './styles/login.css';\n\nconst LogIn = () => {\n    const [userName, setUserName] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n  \n    const login = async () => {\n      const model = {\n        userName: userName,\n        password: password,\n      };\n  \n      await api\n        .login(model)\n        .then((res) => {\n          if (res.status === 200) {\n            const data = res.data.data;\n            const userAuthenticated = {\n              id: data.id,\n              userName: data.userName,\n              role: {\n                id: data.role._id,\n                roleName: data.role.roleName,\n              },\n              person: {\n                id: data.person?.id,\n                fullName: data.person?.fullName,\n              },\n              access_token: data.token.access_token,\n              expires_in: data.token.expires_in,\n            };\n  \n            ls.setLocalStorage(\"tesys\", userAuthenticated);\n            window.location.href = \"/userhome\";\n          }\n        })\n        .catch((err) => {        \n          console.log(err) //aqui va la respuesta\n          Swal.fire({\n            title: \"Usuario o contraseña incorrecta\",\n            icon: \"warning\",\n            timer: 2000,\n            timerProgressBar: true,          \n          });\n        });\n    };\n  \n    const handleSubmit = (e) => {\n      e.preventDefault();\n      login();\n    };\n  \n    return (\n      <div className=\"LogIn p-3 mt-5 pb-md-4 mx-auto\">\n        <div className=\"cardLogIn\">\n          <div className=\"card-body\">\n            <img\n              className=\"avatar\"\n              src={logo}\n              alt=\"\"\n              width=\"150\"\n              height=\"80\"\n            ></img>\n          </div>\n          <div className=\"container-logIn\">\n            <div className=\"card-title-login text-light\">Bienvenido</div>\n            <div className=\"card-text-login text-light\">Iniciar sesión</div>\n            <div className=\"card-body mt-2\">\n              <form\n                className=\"row g-3 needs-validation\"\n                novalidate\n                onSubmit={handleSubmit}\n              >\n                <div className=\"mb-3 text-black\">\n                  <label\n                    for=\"validationDefaultUsername\"\n                    class=\"form-label text-light\"\n                  >\n                    Usuario\n                  </label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"validationDefaultUsername\"\n                    aria-describedby=\"inputGroupPrepend2\"\n                    value={userName}\n                    onChange={(e) => setUserName(e.target.value)}\n                    required\n                  />\n                </div>\n                <div className=\"mb-3 text-black\">\n                  <label\n                    for=\"validationDefaultUsername\"\n                    class=\"form-label text-light\"\n                  >\n                    Contraseña\n                  </label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"validationDefaultPassword\"\n                    aria-describedby=\"inputGroupPrepend2\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n                <div class=\"boton-login d-grid gap-2 d-md-flex justify-content-md-end\">\n                  <button\n                    type=\"submit\"\n                    id=\"login\"\n                    className=\"btn btn-primary w-50 border-primary text-light fw-light\"\n                    onClick={() => login()}\n                  >\n                    Entrar\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n  \n  export default LogIn;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}